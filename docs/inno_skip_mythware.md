# é€šè¿‡å®‰è£…åŒ…è§„é¿æåŸŸè‡ªåŠ¨åˆ é™¤æ–‡ä»¶
## å‘ç”Ÿäº†ç”Ÿä¹ˆï¼Ÿ
æˆ‘ä»¬å­¦æ ¡çš„ç”µè„‘å®¤å› ä¸ºæˆ‘ä»¬ç­ç”µè„‘è¯¾æ‰“cs1.6çš„å¤ªå¤šäº†ï¼Œäºæ˜¯åŠ¨ç”¨äº†æåŸŸå°†cs1.6åº”ç”¨ç¨‹åºå°ç¦ã€‚
 ### ä»€ä¹ˆåŸç†ï¼Ÿ
 è€å¸ˆçš„æªæ–½ï¼š
  - ç¦ç”¨CMD
  - æ£€æµ‹æ–‡ä»¶å(æ¨æµ‹ï¼Œå› ä¸ºæŠŠâ€œcs1.6â€é‡å‘½åå°±èƒ½æ‰“å¼€äº†)ï¼Œå¦‚æœç”¨æˆ·è¿è¡Œè¯¥æ–‡ä»¶ä¼šæŠ¥"æ— æ³•æ‰¾åˆ°C:\xxx\xxx.exe"
## å¦‚ä½•è§£å†³ï¼Ÿ
1. é€šè¿‡Inno Setup é‡æ–°æ‰“åŒ…cs1.6ï¼Œæ–¹ä¾¿åŒå­¦å®‰è£…
2. åœ¨å®‰è£…ç¨‹åºä¸­åŠ å…¥è‡ªåŠ¨å°†ä¸»ç¨‹åºé‡å‘½åä¸ºéšæœºå­—æ¯ï¼Œæ­¤æ—¶å³ä½¿è€å¸ˆå†æ¬¡ç¦ç”¨ä¹Ÿåªéœ€è¦é‡æ–°å®‰è£…ä¸€éå³å¯å†æ¬¡æ‰“å¼€

## å®‰è£…åŒ…åœ¨å“ªï¼Ÿ
ğŸ‘‰[åœ¨è¿™](/docs/download.md#é€šè¿‡å®‰è£…åŒ…æ¥è§„é¿æåŸŸè‡ªåŠ¨åˆ é™¤åº”ç”¨ç¨‹åº)ğŸ‘ˆ
## ä¸ºä»€ä¹ˆä¸ä½¿ç”¨PEç³»ç»Ÿå®Œå…¨æ‘†è„±æ§åˆ¶?
ä¸»æ¿biosç»è¿‡é­”æ”¹ï¼Œæ— æ³•ä»æœ¬åœ°å¯åŠ¨ç³»ç»Ÿï¼ŒåŸç³»ç»Ÿä¹Ÿæ˜¯å­˜åœ¨ç”µè„‘å®¤æœåŠ¡å™¨ä¸Šçš„ï¼Œæ‹”ç½‘çº¿å°†æ— æ³•ä½¿ç”¨ç³»ç»Ÿ
## æ‰“åŒ…ä»£ç ï¼Ÿ
chatgptå†™çš„ï¼Œå› ä¸ºinnoè¯­æ³•ç‰¹è‰²ï¼Œä¸­é—´ä¸çŸ¥é“æŠ¥äº†å¤šå°‘æ¬¡é”™ï¼ŒAIè¿˜æœ‰å¾ˆå¤§è¿›æ­¥ç©ºé—´ã€‚

```pascal
; Script generated by the Inno Setup Script Wizard.
; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!

#define MyAppName "cs1.6"
#define MyAppVersion "1.0.0"
#define MyAppPublisher "dzx"
#define MyAppExeName "!start!.exe" // ä¸»ç¨‹åºå
#define MyAppAssocName MyAppName + " File"
#define MyAppAssocExt ".myp"
#define MyAppAssocKey StringChange(MyAppAssocName, " ", "") + MyAppAssocExt

[Setup]
; NOTE: The value of AppId uniquely identifies this application. Do not use the same AppId value in installers for other applications.
; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)
AppId={{070DBEEC-C09C-4604-8863-06D850B1FD32}
AppName={#MyAppName}
AppVersion={#MyAppVersion}
;AppVerName={#MyAppName} {#MyAppVersion}
AppPublisher={#MyAppPublisher}
DefaultDirName={autopf}\{#MyAppName}
UninstallDisplayIcon={app}\{code:GetRandomExeName}
ChangesAssociations=yes
DisableProgramGroupPage=yes
; Uncomment the following line to run in non administrative install mode (install for current user only).
;PrivilegesRequired=lowest
OutputBaseFilename=cs1.6
SolidCompression=yes
WizardStyle=modern

[Code]
var
  RandomExeNameValue: string;

// ç”Ÿæˆéšæœºæ–‡ä»¶åå‡½æ•°
function GenerateRandomName(Length: Integer): string;
var
  Chars: string;
  I, RandomIndex: Integer;
begin
  Chars := 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
  Result := '';
  
  for I := 1 to Length do
  begin
    RandomIndex := Random(62) + 1;
    Result := Result + Copy(Chars, RandomIndex, 1);
  end;
  Result := Result + '.exe';
end;

function InitializeSetup(): Boolean;
begin
  // ç”Ÿæˆéšæœºæ–‡ä»¶å
  RandomExeNameValue := GenerateRandomName(10);
  Result := True;
end;

// æ”¯æŒå‡½æ•°ï¼Œè®© {code:GetRandomExeName} èƒ½å¤Ÿå·¥ä½œ
function GetRandomExeName(Param: String): String;
begin
  Result := RandomExeNameValue;
end;

[Languages]
Name: "chinesesimplified"; MessagesFile: "compiler:Languages\ChineseSimplified.isl"

[Tasks]
Name: "desktopicon"; Description: "{cm:CreateDesktopIcon}"; GroupDescription: "{cm:AdditionalIcons}"; Flags: unchecked

[Files]
Source: "C:\CS1.6\{#MyAppExeName}"; DestDir: "{app}"; DestName: "{code:GetRandomExeName}"; Flags: ignoreversion // ä¸»ç¨‹åºä½ç½®
Source: "C:\CS1.6\*"; DestDir: "{app}"; Flags: ignoreversion recursesubdirs createallsubdirs //åº”ç”¨æ–‡ä»¶å¤¹ä½ç½®

[Registry]
Root: HKA; Subkey: "Software\Classes\{#MyAppAssocExt}\OpenWithProgids"; ValueType: string; ValueName: "{#MyAppAssocKey}"; ValueData: ""; Flags: uninsdeletevalue
Root: HKA; Subkey: "Software\Classes\{#MyAppAssocKey}"; ValueType: string; ValueName: ""; ValueData: "{#MyAppAssocName}"; Flags: uninsdeletekey
Root: HKA; Subkey: "Software\Classes\{#MyAppAssocKey}\DefaultIcon"; ValueType: string; ValueName: ""; ValueData: "{app}\{code:GetRandomExeName},0"
Root: HKA; Subkey: "Software\Classes\{#MyAppAssocKey}\shell\open\command"; ValueType: string; ValueName: ""; ValueData: """{app}\{code:GetRandomExeName}"" ""%1"""

[Icons]
Name: "{autoprograms}\{#MyAppName}"; Filename: "{app}\{code:GetRandomExeName}"
Name: "{autodesktop}\{#MyAppName}"; Filename: "{app}\{code:GetRandomExeName}"; Tasks: desktopicon

[Run]
Filename: "{app}\{code:GetRandomExeName}"; Description: "{cm:LaunchProgram,{#StringChange(MyAppName, '&', '&&')}}"; Flags: nowait postinstall skipifsilent


```

------

å‘å¸ƒæ—¥æœŸ:2025/10/18

æœ€åç¼–è¾‘æ—¥æœŸ:2025/10/21
